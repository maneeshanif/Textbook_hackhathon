# ADR-0003: Content Organization Strategy

> **Scope**: Document decision clusters, not individual technology choices. Group related decisions that work together (e.g., "Frontend Stack" not separate ADRs for framework, styling, deployment).

- **Status:** Accepted
- **Date:** 2025-12-06
- **Feature:** 001-docusaurus-book
- **Context:** The textbook needs a consistent chapter structure that enables readers to navigate sequentially or jump to specific topics. Content must follow an X.Y.Z numbering convention (per constitution) where X.0 is chapter overview, X.1-n are sections, and exercises/summary follow. The sidebar navigation must auto-generate from folder structure to minimize maintenance.

## Decision

We will use the following content organization strategy:

- **Numbering Convention**: X.Y.Z format per constitution
  - `X.0` = Chapter overview
  - `X.1-X.n` = Topic sections
  - `X.(n+1)` = Exercises
  - `X.(n+2)` = Summary
- **Folder Structure**: `docs/XX-chapter-name/` with numbered MDX files
- **Sidebar Generation**: Autogenerated via `{ type: 'autogenerated', dirName: '.' }`
- **Category Metadata**: `_category_.json` in each chapter folder for labels, ordering, collapse state
- **Frontmatter Schema**: Required fields `title`, `sidebar_position`, `difficulty`, `estimated_time`, `tags`
- **File Naming**: `X.Y-slug-name.mdx` (e.g., `1.1-what-is-physical-ai.mdx`)

Example structure:
```
docs/
├── 01-introduction/
│   ├── _category_.json      # { position: 1, label: "Chapter 1: Introduction" }
│   ├── 1.0-overview.mdx     # sidebar_position: 0
│   ├── 1.1-what-is-physical-ai.mdx
│   ├── 1.2-history-evolution.mdx
│   ├── 1.3-exercises.mdx
│   └── 1.4-summary.mdx
```

## Consequences

### Positive

- Zero manual sidebar configuration - folder structure is the source of truth
- Consistent naming enables predictable URLs (`/docs/introduction/what-is-physical-ai`)
- Easy to reorder sections by changing `sidebar_position` frontmatter
- Category metadata provides rich navigation labels without code changes
- Contributors can add content without understanding Docusaurus internals
- X.Y.Z numbering provides clear learning progression for readers
- Collapsible chapters improve navigation for large textbooks

### Negative

- Renaming folders or files changes URLs (requires redirects)
- Frontmatter must be maintained consistently across all files
- Category labels duplicate information (folder name + _category_.json)
- Auto-generation offers less control than manual sidebar config
- Deep nesting (X.Y.Z.W) not well supported by this structure

## Alternatives Considered

**Alternative A: Manual sidebar configuration**
- Pros: Complete control over sidebar structure, custom groupings possible
- Cons: High maintenance for ~20+ pages, easy to get out of sync with files
- Rejected: Auto-generation is more scalable and maintainable

**Alternative B: Flat file structure with frontmatter-only ordering**
- Pros: Simpler folder structure, all files in one directory
- Cons: No visual chapter grouping, harder to organize related content
- Rejected: Chapter grouping is essential for textbook mental model

**Alternative C: Numeric prefixes only (01-intro.mdx, 02-topic.mdx)**
- Pros: Simple, automatic ordering by filename
- Cons: Less readable URLs, no chapter-section hierarchy
- Rejected: X.Y numbering convention mandated by constitution

## References

- Feature Spec: [specs/001-docusaurus-book/spec.md](../specs/001-docusaurus-book/spec.md) - FR-002
- Implementation Plan: [specs/001-docusaurus-book/plan.md](../specs/001-docusaurus-book/plan.md)
- Data Model: [specs/001-docusaurus-book/data-model.md](../specs/001-docusaurus-book/data-model.md)
- Related ADRs: ADR-0001 (Framework Stack)
- Context7 Research: [specs/001-docusaurus-book/research.md](../specs/001-docusaurus-book/research.md) - Section 2 (Sidebar Auto-Generation)
